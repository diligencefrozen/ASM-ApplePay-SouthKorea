<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <title>ì• í”Œí˜ì´ ê°€ë§¹ì  ì°¾ê¸° - ëª¨ë°”ì¼</title>
    <link rel="stylesheet" href="mobile.css">
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d51b1a671a08a16ab1a8b8b139507d1c&libraries=services"></script>
</head>
<body>
    
    <!-- ì§€ë„ ì˜ì—­ -->
    <div id="map" style="width: 100%; height: 80vh;"></div>

    <!-- ê´‘ê³  ë°°ë„ˆ ì˜ì—­ (í…ŒìŠ¤íŠ¸ìš© ì´ë¯¸ì§€) -->
    <div id="ad-banner">
        <a href="https://github.com/diligencefrozen" target="_blank">
            <img 
                src="https://via.placeholder.com/728x90" 
                srcset="https://via.placeholder.com/320x50 320w,
                        https://via.placeholder.com/468x60 468w,
                        https://via.placeholder.com/728x90 728w"
                sizes="(max-width: 600px) 320px, (max-width: 1024px) 468px, 728px"
                alt="í…ŒìŠ¤íŠ¸ ê´‘ê³  ë°°ë„ˆ" 
                class="ad-image">
        </a>
    </div>
    
    <!-- ê²€ìƒ‰ ì°½ -->
    <div id="search-box">
        <input type="text" id="search-input" placeholder="ì¥ì†Œë¥¼ ê²€ìƒ‰í•˜ì„¸ìš”.">
        <button id="search-submit">ê²€ìƒ‰</button>
    </div>

    <!-- í˜„ì¬ ìœ„ì¹˜ ë²„íŠ¼ -->
    <div id="current-location">
        <button id="current-location-btn">ë‚´ ìœ„ì¹˜</button>
    </div>

    <!-- íŒ¨ì¹˜ë…¸íŠ¸ ì˜ì—­ì´ë‚˜ ëª¨ë°”ì¼ ë²„ì „ì—ì„œëŠ” í•„ë…ì‚¬í•­ ì˜ì—­ìœ¼ë¡œ ëŒ€ì²´. -->
    <div id="patch-notes">
        <button id="patch-notes-toggle">ğŸ“Œí•„ë…ì‚¬í•­</button>
        <div id="patch-notes-content">
            <h3>ğŸ“Œí•„ë…ì‚¬í•­</h3>
            <span style="display: block; margin-bottom: 10px; color: #999; font-weight: bold;">ğŸ“… Last Update: 11/02/2024 23:43 KST</span>
            <span style="display: block; margin-bottom: 10px;"><b>ğŸ“ ë‚´ ìœ„ì¹˜ ë²„íŠ¼:</b> í˜„ì¬ ìœ„ì¹˜ë¡œ ì§€ë„ë¥¼ ì´ë™í•©ë‹ˆë‹¤.</span>
            <span style="display: block; margin-bottom: 10px;">ğŸ <b>iPhone ì‚¬ìš©ìëŠ”</b> <a href="https://apps.apple.com/kr/app/%EB%84%A4%EC%9D%B4%EB%B2%84-naver/id393499958" style="color: #007aff;">ë„¤ì´ë²„ ì•±</a>ì„ ì‚¬ìš©í•˜ì„¸ìš”.</span>
            <span style="display: block; margin-bottom: 10px;">ğŸ <b>iPad ë° Mac ì‚¬ìš©ìëŠ”</b> <a href="https://www.google.com/chrome/" style="color: #007aff;">Chrome</a>ì„ ì‚¬ìš©í•˜ì„¸ìš”.</span>
            <span style="display: block; margin-bottom: 10px;">âš ï¸ <b>ì£¼ì˜:</b> ë™ì¼ ê±´ë¬¼ ë‚´ì˜ ë§¤ì¥ì€ ë™ì¼ ì¥ì†Œë¡œ ë¶„ë¥˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
            <span style="display: block; margin-bottom: 10px;">â­ <b>ê°€ë§¹ì  ë°ì´í„° ì¶œì²˜:</b> <a href="https://www.hyundaicard.com/cpu/ug/CPUUG4001_02.hc?tabindex=1" style="color: #007aff;">í˜„ëŒ€ì¹´ë“œ ì• í”Œí˜ì´ ë¬¸ì„œ</a></span>
        </div>
    </div>
    
    <!-- ë¶ˆëŸ¬ì˜¤ê¸° ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤. (PC ë²„ì „ê³¼ëŠ” ë‹¤ë¥´ê²Œ, ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.) -->    
    <div id="load-categories">
        <button id="load-button">ğŸ” ê°€ë§¹ì  ë¶ˆëŸ¬ì˜¤ê¸°</button>
        <div id="category-buttons" style="display: none;">
            <p>ë¶ˆëŸ¬ì˜¬ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”:</p>
            <div id="categories-list"></div>
        </div>
    </div>



    <script>
        // Kakao ì§€ë„ ì´ˆê¸°í™”
        var container = document.getElementById('map');
        var options = {
            center: new kakao.maps.LatLng(37.34487430629196, 127.93071437137233), 
            level: 3
        };
        var map = new kakao.maps.Map(container, options);

        // ê²€ìƒ‰ ê¸°ëŠ¥
        function searchPlaces() {
            var keyword = document.getElementById('search-input').value;
            if (!keyword.trim()) {
                alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            var places = new kakao.maps.services.Places();
            places.keywordSearch(keyword, function(data, status) {
                if (status === kakao.maps.services.Status.OK) {
                    map.setCenter(new kakao.maps.LatLng(data[0].y, data[0].x));
                } else {
                    alert('ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.');
                }
            });
        }
        document.getElementById('search-submit').addEventListener('click', searchPlaces);

        // í˜„ì¬ ìœ„ì¹˜ í‘œì‹œ
        document.getElementById('current-location-btn').addEventListener('click', function () {
            navigator.geolocation.getCurrentPosition(function(position) {
                var lat = position.coords.latitude;
                var lng = position.coords.longitude;
                var newPos = new kakao.maps.LatLng(lat, lng);
                map.setCenter(newPos);
                var marker = new kakao.maps.Marker({ position: newPos });
                marker.setMap(map);
            });
        });

        // íŒ¨ì¹˜ë…¸íŠ¸ ë³´ê¸° í† ê¸€ì´ë‚˜ ëª¨ë°”ì¼ ë²„ì „ì—ì„œëŠ” í•„ë…ì‚¬í•­ ë³´ê¸° í† ê¸€ë¡œ ëŒ€ì²´.
        var patchNotesToggle = document.getElementById('patch-notes-toggle');
        var patchNotesContent = document.getElementById('patch-notes-content');
        patchNotesToggle.addEventListener('click', function() {
            patchNotesContent.classList.toggle('active');
        });

        // ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì •ì˜
        const categories = [
            { name: "í¸ì˜ì &ì¹´í˜", emoji: "â˜•", action: searchConvenienceStoresAndStarbucks },
            { name: "ë°±í™”ì /ì‡¼í•‘", emoji: "ğŸ›ï¸", action: searchDepartmentStoresandShoppingMalls },
            { name: "ë§ˆíŠ¸/ìŠˆí¼", emoji: "ğŸ¬", action: searchmartandsuper },
            { name: "ì œê³¼/ë””ì €íŠ¸", emoji: "ğŸ°", action: searchjaegwaanddessert },
            { name: "ìƒí™œ/ê°€ì „", emoji: "ğŸ ", action: searchHomeappliances },
            { name: "ì™¸ì‹", emoji: "ğŸ´", action: searchrestaurants },
            { name: "í˜¸í…”/ë¦¬ì¡°íŠ¸", emoji: "ğŸ¨", action: searchresortandhotel },
            { name: "íŒ¨ì…˜/ë·°í‹°", emoji: "ğŸ’„", action: searchfasion },
            { name: "ì£¼ìœ /ì¶©ì „", emoji: "â›½", action: searchgasstation },
            { name: "ì˜í™”/ë„ì„œ", emoji: "ğŸ“š", action: searchmovieandbooks },
            { name: "ë ˆì €/ì—¬í–‰", emoji: "ğŸï¸", action: searchleisure },
        ];
        
        // ë¶ˆëŸ¬ì˜¤ê¸° ë²„íŠ¼ ë™ì‘
        document.getElementById("load-button").addEventListener("click", function () {
            const categoryButtonsContainer = document.getElementById("category-buttons");
            const categoriesList = document.getElementById("categories-list");
            
            // ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ì´ˆê¸°í™” ë° ìƒì„±
            categoriesList.innerHTML = "";
            categories.forEach((category) => {
                const button = document.createElement("button");
                button.textContent = `${category.emoji} ${category.name}`;
                button.addEventListener("click", category.action);
                categoriesList.appendChild(button);
            });
            
            // ì¹´í…Œê³ ë¦¬ ëª©ë¡ í‘œì‹œ í† ê¸€
            categoryButtonsContainer.style.display =
                categoryButtonsContainer.style.display === "none" ? "block" : "none";
        });
        
        function searchConvenienceStoresAndStarbucks() {
            const placesService = new kakao.maps.services.Places();
            const keywords = ["GS25", "CU", "ìŠ¤íƒ€ë²…ìŠ¤"]; // ì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” í‚¤ì›Œë“œ
            
            keywords.forEach(keyword => {
                placesService.keywordSearch(keyword, function (data, status) {
                    if (status === kakao.maps.services.Status.OK) {
                        data.forEach(place => {
                            displayMarker(place, "URL_TO_MARKER_IMAGE"); // ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ì„¤ì •
                            });
                        } else {
                            console.warn(`ê²€ìƒ‰ ì‹¤íŒ¨: ${keyword}, ìƒíƒœ: ${status}`);
                        }
                    });
                });
            }
            
            function loadAllStores() {
                const placesService = new kakao.maps.services.Places();
                const allKeywords = [
                    "GS25", "CU", "ìŠ¤íƒ€ë²…ìŠ¤", "ë¡¯ë°ë°±í™”ì ", "ì½”ìŠ¤íŠ¸ì½”",
                    "íŒŒë¦¬ë°”ê²Œëœ¨", "ë§¥ë„ë‚ ë“œ", "ì´ì¼€ì•„", "ë¡¯ë°í˜¸í…”", "ì˜¬ë¦¬ë¸Œì˜"
                ];
                
                allKeywords.forEach((keyword, index) => {
                    setTimeout(() => {
                        placesService.keywordSearch(keyword, function (data, status) {
                            if (status === kakao.maps.services.Status.OK) {
                                data.forEach(place => {
                                    displayMarker(place, "URL_TO_MARKER_IMAGE");
                                });
                            } else {
                                console.warn(`ê²€ìƒ‰ ì‹¤íŒ¨: ${keyword}, ìƒíƒœ: ${status}`);
                            }
                        });
                    }, index * 200); // API í˜¸ì¶œ ê°„ê²©ì„ ì¡°ì •í•˜ì—¬ ì œí•œ ë°©ì§€
                });
            }

            function displayMarker(place, markerImageUrl) {
                const markerImage = new kakao.maps.MarkerImage(markerImageUrl, new kakao.maps.Size(24, 35));
                const marker = new kakao.maps.Marker({
                    position: new kakao.maps.LatLng(place.y, place.x),
                    image: markerImage,
                });
                marker.setMap(map);
            }

            function showLoadingMessage(message) {
                const loadingDiv = document.createElement("div");
                loadingDiv.id = "loading-message";
                loadingDiv.innerText = message;
                loadingDiv.style.position = "fixed";
                loadingDiv.style.top = "10px";
                loadingDiv.style.left = "50%";
                loadingDiv.style.transform = "translateX(-50%)";
                loadingDiv.style.padding = "10px";
                loadingDiv.style.backgroundColor = "rgba(0, 0, 0, 0.7)";
                loadingDiv.style.color = "white";
                loadingDiv.style.borderRadius = "5px";
                document.body.appendChild(loadingDiv);
            }
            
            function hideLoadingMessage() {
                const loadingDiv = document.getElementById("loading-message");
                if (loadingDiv) document.body.removeChild(loadingDiv);
            }
            
            // ë¡œë”© ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆ:
            showLoadingMessage("ê°€ë§¹ì ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...");
            setTimeout(hideLoadingMessage, 2000); // ë°ì´í„° ë¡œë“œ ì™„ë£Œ ì‹œ í˜¸ì¶œ

        
    </script>

</body>
</html>
