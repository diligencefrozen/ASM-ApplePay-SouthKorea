<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <title>애플페이 가맹점 찾기 - 모바일</title>
    <link rel="stylesheet" href="mobile.css">
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d51b1a671a08a16ab1a8b8b139507d1c&libraries=services"></script>
</head>
<body>
    <!-- 지도 영역 -->
    <div id="map" style="width: 100%; height: 80vh;"></div>

    <!-- 검색 창 -->
    <div id="search-box">
        <input type="text" id="search-input" placeholder="장소를 검색하세요.">
        <button id="search-submit">검색</button>
    </div>

    <!-- 현재 위치 버튼 -->
    <div id="current-location">
        <button id="current-location-btn">내 위치</button>
    </div>

    <!-- 패치노트 영역 -->
    <div id="patch-notes">
        <button id="patch-notes-toggle">패치노트 보기</button>
        <div id="patch-notes-content">
            <h3>패치노트</h3>
            <ul>
                <li>20230524.1: 초기 버전 출시</li>
                <li>20230718.7: 사용자 인터페이스 업데이트 및 가맹점 추가 (편의점, 카페)</li>
                <li>20230720.11: 가맹점 추가 (마트/슈퍼) 및 사용자 인터페이스 개선 (검색 기능 추가)</li>
                <li>20230721.9: 가맹점 추가 (제과/디저트) 및 사용자 인터페이스 개선 (검색 기능 개선 / 마커 기능 추가) </li>
                <li>20230723.9: 사용자 인터페이스 개선 (검색 기능 디자인 변경 / 모바일 기기로 접속시 반응하는 인터페이스 개선) </li>
                <li>20230724.1: 사용자 인터페이스 개선 </li>
                <li>20230726.16: 가맹점 수정 (롯데마트/롯데백화점/롯데슈퍼) </li>
                <li>20230802.9: 사용자 인터페이스 개선</li>
                <li>20230803.11: 가맹점 추가(외식/생활,가전) 및 사용자 인터페이스 개선</li>
                <li>20230804.4: 가맹점 추가(호텔,리조트) 및 사용자 인터페이스 업데이트</li>
                <li>20230805.8: 사용자 인터페이스 개선</li>
                <li>20230808.1: 가맹점 추가(주유,충전)</li>
                <li>20230809.2: 가맹점 추가(영화, 도서) 및 가맹점 수정(편의점)</li>
                <li>20230811.1: 가맹점 추가(레저, 여행)</li>
                <li>20230818.5: 가맹점 추가(약국) 및 수정(외식) 그리고 사용자 인터페이스 개선(패치노트, 필독사항 영역)</li>
                <li>20230821.3: 사용자 인터페이스 개선 (패치노트 영역, 현재 위치 표시 기능 개선)</li>
                <li>20230822.1: 가맹점 수정 (기타, 생활&가전)</li>
                <li>20231008.5: 사용자 인터페이스 수정 (카테고리, 필독사항)</li>
                <li>20231014.1: 사용자 인터페이스 수정 (화면 비율 수정)</li>
                <li>20231017.2: 사용자 인터페이스 수정 (검색 버튼 수정)</li>
                <li>20231105.10: 사용자 인터페이스 개선 ('기타' 메뉴 삭제(약국 삭제), 온라인 메뉴 추가, 문의 메뉴 추가)</li>
                <li>20231201.6: 가맹점 업데이트 (백화점/쇼핑, 마트/슈퍼, 커피, 외식, 온라인)</li>
                <li>20231221.3: 가맹점 업데이트 (외식, 온라인)</li>
                <li>20231226.6: 가맹점 업데이트 (외식, 백화점/쇼핑) 및 사용자 인터페이스 개선</li>
                <li>20240125.7: 사용자 인터페이스 개선 (사이트 하단에 애플페이 스티커 관련 안내 문구 추가)</li>
                <li>20240225.2: 가맹점 업데이트 (커피, 외식) </li>
                <li>20240613.3: 가맹점 업데이트 (커피, 백화점, 온라인) </li>
                <li>20240914.10: 가맹점 업데이트 및 UI 개선 (편의점, 패션, 카페, 외식) </li>
                <li>20241102.2: 모바일 기기 대응 페이지 생성 </li>
                <!-- 패치노트 항목 추가 가능 -->
            </ul>
        </div>
    </div>

    <script>
        // Kakao 지도 초기화
        var container = document.getElementById('map');
        var options = {
            center: new kakao.maps.LatLng(37.5665, 126.9780), // 서울 중심 좌표 예시
            level: 3
        };
        var map = new kakao.maps.Map(container, options);

        // 검색 기능
        function searchPlaces() {
            var keyword = document.getElementById('search-input').value;
            if (!keyword.trim()) {
                alert('검색어를 입력해주세요.');
                return;
            }
            var places = new kakao.maps.services.Places();
            places.keywordSearch(keyword, function(data, status) {
                if (status === kakao.maps.services.Status.OK) {
                    map.setCenter(new kakao.maps.LatLng(data[0].y, data[0].x));
                } else {
                    alert('검색 결과가 없습니다.');
                }
            });
        }
        document.getElementById('search-submit').addEventListener('click', searchPlaces);

        // 현재 위치 표시
        document.getElementById('current-location-btn').addEventListener('click', function () {
            navigator.geolocation.getCurrentPosition(function(position) {
                var lat = position.coords.latitude;
                var lng = position.coords.longitude;
                var newPos = new kakao.maps.LatLng(lat, lng);
                map.setCenter(newPos);
                var marker = new kakao.maps.Marker({ position: newPos });
                marker.setMap(map);
            });
        });

        // 패치노트 보기 토글
        var patchNotesToggle = document.getElementById('patch-notes-toggle');
        var patchNotesContent = document.getElementById('patch-notes-content');
        patchNotesToggle.addEventListener('click', function() {
            patchNotesContent.classList.toggle('active');
        });
    </script>

    <style>
        /* 모바일 전용 스타일 */
        #map { margin: 0 auto; }
        #search-box {
            position: fixed; /* 상단에 고정 */
            top: 10px; /* 화면 상단에서 10px 떨어짐 */
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            z-index: 10; /* 지도 위에 나타나도록 설정 */
            display: flex;
            background: rgba(255, 255, 255, 0.9); /* 반투명 배경 */
            padding: 5px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        #search-input {
            flex: 1;
            padding: 8px;
            font-size: 16px;
        }
        #search-submit {
            padding: 8px 12px;
            font-size: 16px;
        }
        #current-location {
            position: absolute;
            top: 60px;
            right: 10px;
            z-index: 10;
        }
        #current-location-btn {
            padding: 10px;
            font-size: 16px;
        }

        /* 패치노트 스타일 */
        #patch-notes {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.9);
            text-align: center;
            font-size: 14px;
            z-index: 10;
        }
        #patch-notes-toggle {
            padding: 10px;
            width: 100%;
            background: #333;
            color: #fff;
            font-size: 16px;
        }
        #patch-notes-content {
            display: none;
            max-height: 200px;
            overflow-y: scroll;
            padding: 15px;
            background: #f7f7f7;
        }
        #patch-notes-content.active {
            display: block;
        }
        #patch-notes-content h3 {
            margin-top: 0;
        }
    </style>
</body>
</html>

